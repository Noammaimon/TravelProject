@model TravelProject.Models.TripModel

<div class="container mt-4 text-end" dir="rtl">
    <div class="form-container">
        <h1 class="form-title">עריכת חבילת נופש</h1>
        <hr />

        <form asp-action="Edit" method="post"  enctype="multipart/form-data">
            <input type="hidden" asp-for="Id" />
            <input type="hidden" asp-for="InstanceId" />
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="Id" />
            <input type="hidden" asp-for="ImagePaths" />
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <div class="col-md-6 mb-3">
                <label class="form-label fw-bold">עיר / יעד (לא ניתן לשינוי מכאן)</label>
                <div class="form-control bg-light">@Model.Destination</div>
                <input type="hidden" asp-for="Destination" /> <input type="hidden" asp-for="Country" />
            </div>

            <div class="mb-3">
                <label asp-for="Description" class="form-label fw-bold"></label>
                <textarea asp-for="Description" class="form-control" rows="4"></textarea>
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>

            <div class="row">
                <div class="col-md-4 mb-3">
                    <label asp-for="Price" class="form-label fw-bold"></label>
                    <input asp-for="Price" class="form-control" />
                    <span asp-validation-for="Price" class="text-danger"></span>
                </div>

                <div class="col-md-4 mb-3">
                    <label asp-for="DiscountPercentage" class="form-label fw-bold">אחוז הנחה (%)</label>
                    <input asp-for="DiscountPercentage" id="discountPercent" type="number" min="0" max="99" class="form-control" placeholder="0" />
                    <small class="text-muted">השאר 0 אם אין הנחה</small>
                </div>

                <div class="col-md-3 mb-3">
                    <label asp-for="DiscountExpiration" class="form-label fw-bold">תוקף ההנחה</label>
                    <input asp-for="DiscountExpiration" type="date" class="form-control" />
                    <span asp-validation-for="DiscountExpiration" class="text-danger"></span>
                </div>

                <div class="col-md-4 mb-3">
                    <label asp-for="TripType" class="form-label fw-bold"></label>
                    <select asp-for="TripType" class="form-select" required>
                        <option value="">-- בחר סוג נופש --</option>
                        <option value="משפחה">משפחה</option>
                        <option value="ירח דבש">ירח דבש</option>
                        <option value="הרפתקאות">הרפתקאות</option>
                        <option value="שיט">שיט</option>
                        <option value="יוקרה">יוקרה</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label asp-for="RoomsAvailable" class="form-label fw-bold"></label>
                    <input asp-for="RoomsAvailable" class="form-control" />
                    <span asp-validation-for="RoomsAvailable" class="text-danger"></span>
                </div>
            </div>

            <div class="mb-4 file-upload-section">
                <label class="form-label fw-bold">בחר תמונה</label>
                <input type="file" name="imageFile" class="form-control" accept="image/*" />
            </div>

            <div class="col-md-4 mb-3">
                <label asp-for="AgeLimit" class="form-label fw-bold">מגבלת גיל</label>
                <input asp-for="AgeLimit" type="number" min="0" class="form-control" placeholder="0" />
                <span asp-validation-for="AgeLimit" class="text-danger"></span>
                <small class="text-muted">0 = ללא הגבלה</small>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label asp-for="StartDate" class="form-label fw-bold"></label>
                    <input asp-for="StartDate" type="date" class="form-control" />
                    <span asp-validation-for="StartDate" class="text-danger"></span>
                </div>
                <div class="col-md-6 mb-3">
                    <label asp-for="EndDate" class="form-label fw-bold"></label>
                    <input asp-for="EndDate" type="date" class="form-control" />
                    <span asp-validation-for="EndDate" class="text-danger"></span>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label fw-bold">צרף קובץ PDF לטיול (מסלול, תקנון וכו')</label>
                    <input type="file" name="pdfFile" class="form-control" accept="application/pdf" />
                    @if (Model != null && !string.IsNullOrEmpty(Model.FilePath))
                    {
                        <div class="mt-2">
                            <small class="text-success">קובץ קיים: @Model.FilePath</small>
                        </div>
                    }
                </div>
            </div>

            <div class="form-group mt-4 border-top pt-3">
                <button type="submit" class="btn btn-success px-5">שמור שינויים</button>
                <a asp-action="Index" asp-controller="Admin" class="btn btn-secondary">ביטול</a>
            </div>
        </form>
    </div>
</div>